# Comprehensive Dictionary Test Suite for AIMacro
# Comment out sections as needed for debugging

# =============================================================================
# TEST 1: Basic Creation and Access
# =============================================================================
def test_basic():
    print("=== TEST 1: Basic Creation and Access ===")
    
    # Create dict with initial values
    d = {"name": "Alice", "age": 30, "score": 95}
    
    # Access values
    print("name:")
    print(d["name"])
    
    print("age:")
    print(d["age"])
    
    print("score:")
    print(d["score"])
    
    print("TEST 1 PASSED")
    print("")
end

# =============================================================================
# TEST 2: Empty Dict
# =============================================================================
def test_empty():
    print("=== TEST 2: Empty Dict ===")
    
    # Create empty dict
    d = {}
    
    print("Empty dict size:")
    print(len(d))
    
    # Add to empty dict
    d["first"] = 100
    d["second"] = 200
    
    print("Size after adding 2:")
    print(len(d))
    
    print("first:")
    print(d["first"])
    
    print("second:")
    print(d["second"])
    
    print("TEST 2 PASSED")
    print("")
end

# =============================================================================
# TEST 3: Modification
# =============================================================================
def test_modify():
    print("=== TEST 3: Modification ===")
    
    d = {"x": 10, "y": 20}
    
    print("Original x:")
    print(d["x"])
    
    # Update existing key
    d["x"] = 15
    print("Updated x:")
    print(d["x"])
    
    # Add new key
    d["z"] = 30
    print("New z:")
    print(d["z"])
    
    # Update with expression
    d["x"] = d["x"] + 5
    print("x after +5:")
    print(d["x"])
    
    print("TEST 3 PASSED")
    print("")
end

# =============================================================================
# TEST 4: The 'in' Operator
# =============================================================================
def test_in_operator():
    print("=== TEST 4: The 'in' Operator ===")
    
    scores = {"alice": 95, "bob": 87, "charlie": 92}
    
    # Test key exists
    if "alice" in scores:
        print("alice found: PASS")
    else:
        print("alice found: FAIL")
    end
    
    # Test key doesn't exist
    if "dave" in scores:
        print("dave not found: FAIL")
    else:
        print("dave not found: PASS")
    end
    
    # Test 'not in'
    if "eve" not in scores:
        print("eve not in: PASS")
    else:
        print("eve not in: FAIL")
    end
    
    # Test with existing key using not in
    if "bob" not in scores:
        print("bob not in: FAIL")
    else:
        print("bob is in: PASS")
    end
    
    print("TEST 4 PASSED")
    print("")
end

# =============================================================================
# TEST 5: Dict Size (len)
# =============================================================================
def test_len():
    print("=== TEST 5: Dict Size ===")
    
    d = {}
    print("Empty size:")
    print(len(d))
    
    d["a"] = 1
    print("After 1 add:")
    print(len(d))
    
    d["b"] = 2
    d["c"] = 3
    print("After 3 total:")
    print(len(d))
    
    # Update existing shouldn't change size
    d["a"] = 100
    print("After update (should still be 3):")
    print(len(d))
    
    print("TEST 5 PASSED")
    print("")
end

# =============================================================================
# TEST 6: Dict with Integer Keys (as strings)
# =============================================================================
def test_string_int_keys():
    print("=== TEST 6: String Number Keys ===")
    
    # Keys are always strings in our implementation
    d = {"1": "one", "2": "two", "3": "three"}
    
    print("d['1']:")
    print(d["1"])
    
    print("d['2']:")
    print(d["2"])
    
    print("d['3']:")
    print(d["3"])
    
    print("TEST 6 PASSED")
    print("")
end

# =============================================================================
# TEST 7: Dict with Integer Values
# =============================================================================
def test_int_values():
    print("=== TEST 7: Integer Values ===")
    
    counts = {"apples": 5, "bananas": 3, "oranges": 8}
    
    # Sum values
    total = counts["apples"] + counts["bananas"] + counts["oranges"]
    print("Total fruits:")
    print(total)
    
    # Arithmetic with dict values
    diff = counts["oranges"] - counts["bananas"]
    print("Oranges minus bananas:")
    print(diff)
    
    print("TEST 7 PASSED")
    print("")
end

# =============================================================================
# TEST 8: Dict with String Values
# =============================================================================
def test_string_values():
    print("=== TEST 8: String Values ===")
    
    person = {"first": "John", "last": "Doe", "city": "Boston"}
    
    print("First name:")
    print(person["first"])
    
    print("Last name:")
    print(person["last"])
    
    print("City:")
    print(person["city"])
    
    # Update string value
    person["city"] = "NewYork"
    print("New city:")
    print(person["city"])
    
    print("TEST 8 PASSED")
    print("")
end

# =============================================================================
# TEST 9: Dict .keys() Method
# =============================================================================
def test_keys():
    print("=== TEST 9: Dict .keys() ===")
    
    d = {"a": 1, "b": 2, "c": 3}
    
    keys = d.keys()
    print("Number of keys:")
    print(len(keys))
    
    print("Keys:")
    for k in keys:
        print(k)
    end
    
    print("TEST 9 PASSED")
    print("")
end

# =============================================================================
# TEST 10: Dict .values() Method
# =============================================================================
def test_values():
    print("=== TEST 10: Dict .values() ===")
    
    d = {"x": 10, "y": 20, "z": 30}
    
    vals = d.values()
    print("Number of values:")
    print(len(vals))
    
    print("Values:")
    for v in vals:
        print(v)
    end
    
    # Sum of values
    total = 0
    for v in vals:
        total = total + v
    end
    print("Sum of values:")
    print(total)
    
    print("TEST 10 PASSED")
    print("")
end

# =============================================================================
# TEST 11: Dict .items() Method
# =============================================================================
def test_items():
    print("=== TEST 11: Dict .items() ===")
    
    d = {"name": "Alice", "age": 25}
    
    items = d.items()
    print("Number of items:")
    print(len(items))
    
    print("Key-Value pairs:")
    for k, v in items:
        print(k)
        print(v)
    end
    
    print("TEST 11 PASSED")
    print("")
end

# =============================================================================
# TEST 12: Dict .clear() Method
# =============================================================================
def test_clear():
    print("=== TEST 12: Dict .clear() ===")
    
    d = {"a": 1, "b": 2, "c": 3}
    
    print("Size before clear:")
    print(len(d))
    
    d.clear()
    
    print("Size after clear:")
    print(len(d))
    
    # Can still add after clear
    d["new"] = 999
    print("After adding new:")
    print(len(d))
    print(d["new"])
    
    print("TEST 12 PASSED")
    print("")
end

# =============================================================================
# TEST 13: Dict in Conditionals
# =============================================================================
def test_conditionals():
    print("=== TEST 13: Dict in Conditionals ===")
    
    config = {"debug": 1, "verbose": 0, "max": 100}
    
    if config["debug"] == 1:
        print("Debug mode: ON")
    else:
        print("Debug mode: OFF")
    end
    
    if config["verbose"] == 1:
        print("Verbose: ON")
    else:
        print("Verbose: OFF")
    end
    
    if config["max"] > 50:
        print("Max is large")
    else:
        print("Max is small")
    end
    
    print("TEST 13 PASSED")
    print("")
end

# =============================================================================
# TEST 14: Dict in Loops
# =============================================================================
def test_loops():
    print("=== TEST 14: Dict in Loops ===")
    
    d = {}
    
    # Build dict in loop
    for i in range(5):
        key = str(i)
        d[key] = i * 10
    end
    
    print("Built dict size:")
    print(len(d))
    
    # Access in loop
    print("Values:")
    for i in range(5):
        key = str(i)
        print(d[key])
    end
    
    print("TEST 14 PASSED")
    print("")
end

# =============================================================================
# TEST 15: Dict as Function Argument
# =============================================================================
def print_dict_info(data):
    print("Dict size:")
    print(len(data))
    print("Has 'name':")
    if "name" in data:
        print("yes")
        print(data["name"])
    else:
        print("no")
    end
    return len(data)
end

def test_function_arg():
    print("=== TEST 15: Dict as Function Argument ===")
    
    person = {"name": "Bob", "age": 30}
    
    result = print_dict_info(person)
    print("Returned:")
    print(result)
    
    print("TEST 15 PASSED")
    print("")
end

# =============================================================================
# TEST 16: Multiple Dicts
# =============================================================================
def test_multiple_dicts():
    print("=== TEST 16: Multiple Dicts ===")
    
    dict1 = {"a": 1, "b": 2}
    dict2 = {"x": 10, "y": 20}
    dict3 = {"p": 100}
    
    print("dict1 size:")
    print(len(dict1))
    
    print("dict2 size:")
    print(len(dict2))
    
    print("dict3 size:")
    print(len(dict3))
    
    # Cross-dict operations
    total = dict1["a"] + dict2["x"] + dict3["p"]
    print("Sum across dicts:")
    print(total)
    
    print("TEST 16 PASSED")
    print("")
end

# =============================================================================
# TEST 17: Dict and List Together
# =============================================================================
def test_dict_and_list():
    print("=== TEST 17: Dict and List Together ===")
    
    # A list
    numbers = [10, 20, 30]
    
    # A dict
    names = {"a": "Alice", "b": "Bob"}
    
    # Access list by index
    print("List[0]:")
    print(numbers[0])
    
    # Access dict by key
    print("Dict['a']:")
    print(names["a"])
    
    # Modify list
    numbers[1] = 25
    print("Modified list[1]:")
    print(numbers[1])
    
    # Modify dict
    names["a"] = "Alicia"
    print("Modified dict['a']:")
    print(names["a"])
    
    # 'in' with list
    if 10 in numbers:
        print("10 is in numbers: PASS")
    end
    
    # 'in' with dict (checks keys)
    if "a" in names:
        print("'a' is in names: PASS")
    end
    
    print("TEST 17 PASSED")
    print("")
end

# =============================================================================
# TEST 18: Counter Pattern
# =============================================================================
def test_counter():
    print("=== TEST 18: Counter Pattern ===")
    
    counts = {}
    counts["hello"] = 0
    counts["world"] = 0
    counts["test"] = 0
    
    # Simulate counting
    counts["hello"] = counts["hello"] + 1
    counts["hello"] = counts["hello"] + 1
    counts["hello"] = counts["hello"] + 1
    counts["world"] = counts["world"] + 1
    counts["test"] = counts["test"] + 1
    counts["test"] = counts["test"] + 1
    
    print("hello count:")
    print(counts["hello"])
    
    print("world count:")
    print(counts["world"])
    
    print("test count:")
    print(counts["test"])
    
    print("TEST 18 PASSED")
    print("")
end

# =============================================================================
# TEST 19: Nested Access Expressions
# =============================================================================
def get_key():
    return "dynamic"
end

def test_expressions():
    print("=== TEST 19: Expression Values ===")
    
    d = {}
    
    # Value from expression
    base = 10
    d["computed"] = base * 5 + 2
    print("Computed value:")
    print(d["computed"])
    
    # Value from function (if supported)
    # d["func"] = get_key()
    
    # Chained operations
    d["a"] = 1
    d["b"] = d["a"] + 1
    d["c"] = d["b"] + 1
    print("Chained c:")
    print(d["c"])
    
    print("TEST 19 PASSED")
    print("")
end

# =============================================================================
# TEST 20: Large Dict
# =============================================================================
def test_large():
    print("=== TEST 20: Large Dict ===")
    
    d = {}
    
    # Add many entries
    for i in range(20):
        key = str(i)
        d[key] = i * i
    end
    
    print("Size:")
    print(len(d))
    
    # Verify some values
    print("d['0']:")
    print(d["0"])
    
    print("d['5']:")
    print(d["5"])
    
    print("d['10']:")
    print(d["10"])
    
    print("d['19']:")
    print(d["19"])
    
    print("TEST 20 PASSED")
    print("")
end

# =============================================================================
# MAIN - Run All Tests
# =============================================================================
def main():
    print("######################################")
    print("# COMPREHENSIVE DICT TEST SUITE     #")
    print("######################################")
    print("")
    
    test_basic()
    test_empty()
    test_modify()
    test_in_operator()
    test_len()
    test_string_int_keys()
    test_int_values()
    test_string_values()
    test_keys()
    test_values()
    test_items()
    test_clear()
    test_conditionals()
    test_loops()
    test_function_arg()
    test_multiple_dicts()
    test_dict_and_list()
    test_counter()
    test_expressions()
    test_large()
    
    print("######################################")
    print("# ALL TESTS COMPLETE                #")
    print("######################################")
end