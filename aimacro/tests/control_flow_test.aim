# control_flow_test.aim
# Test control flow: for loops, elif, break, continue, boolean ops

def test_for_range():
    print("=== FOR LOOP WITH RANGE ===")
    
    # Simple range
    print("range(5):")
    for i in range(5):
        print(i)
    end
    
    # Range with start
    print("range(2, 7):")
    for i in range(2, 7):
        print(i)
    end
    
    # Range with step
    print("range(0, 10, 2):")
    for i in range(0, 10, 2):
        print(i)
    end
end

def test_elif_chain():
    print("=== ELIF CHAINS ===")
    
    # Test multiple values
    x = 1
    if x == 0:
        print("x is zero")
    elif x == 1:
        print("x is one")
    elif x == 2:
        print("x is two")
    else:
        print("x is something else")
    end
    
    x = 2
    if x == 0:
        print("x is zero")
    elif x == 1:
        print("x is one")
    elif x == 2:
        print("x is two")
    else:
        print("x is something else")
    end
    
    x = 99
    if x == 0:
        print("x is zero")
    elif x == 1:
        print("x is one")
    elif x == 2:
        print("x is two")
    else:
        print("x is something else")
    end
end

def test_nested_elif():
    print("=== NESTED CONDITIONALS ===")
    
    a = 5
    b = 10
    
    if a > 0:
        if b > 0:
            print("Both positive")
        elif b == 0:
            print("a positive, b zero")
        else:
            print("a positive, b negative")
        end
    else:
        print("a not positive")
    end
end

def test_break():
    print("=== BREAK ===")
    
    # Break out of while loop
    print("While with break at 5:")
    i = 0
    while i < 10:
        if i == 5:
            break
        end
        print(i)
        i += 1
    end
    print("Loop exited")
    
    # Break out of for loop
    print("For with break at 3:")
    for j in range(10):
        if j == 3:
            break
        end
        print(j)
    end
    print("For loop exited")
end

def test_continue():
    print("=== CONTINUE ===")
    
    # Skip even numbers
    print("Skip evens (print odds 0-9):")
    for i in range(10):
        if i % 2 == 0:
            continue
        end
        print(i)
    end
    
    # Skip multiples of 3
    print("Skip multiples of 3:")
    i = 0
    while i < 15:
        i += 1
        if i % 3 == 0:
            continue
        end
        print(i)
    end
end

def test_boolean_and():
    print("=== BOOLEAN AND ===")
    
    a = 5
    b = 10
    
    if a > 0 and b > 0:
        print("Both > 0: TRUE")
    else:
        print("Both > 0: FALSE")
    end
    
    if a > 0 and b > 20:
        print("a>0 and b>20: TRUE")
    else:
        print("a>0 and b>20: FALSE")
    end
    
    if a > 10 and b > 0:
        print("a>10 and b>0: TRUE")
    else:
        print("a>10 and b>0: FALSE")
    end
end

def test_boolean_or():
    print("=== BOOLEAN OR ===")
    
    a = 5
    b = 10
    
    if a > 0 or b > 0:
        print("a>0 or b>0: TRUE")
    else:
        print("a>0 or b>0: FALSE")
    end
    
    if a > 100 or b > 100:
        print("a>100 or b>100: TRUE")
    else:
        print("a>100 or b>100: FALSE")
    end
    
    if a > 100 or b > 0:
        print("a>100 or b>0: TRUE")
    else:
        print("a>100 or b>0: FALSE")
    end
end

def test_boolean_not():
    print("=== BOOLEAN NOT ===")
    
    flag = 1
    
    if not flag == 0:
        print("not (flag==0): TRUE (flag is not zero)")
    else:
        print("not (flag==0): FALSE")
    end
    
    flag = 0
    if not flag == 0:
        print("not (flag==0): TRUE")
    else:
        print("not (flag==0): FALSE (flag is zero)")
    end
end

def test_complex_conditions():
    print("=== COMPLEX CONDITIONS ===")
    
    x = 5
    y = 10
    z = 15
    
    # Nested boolean
    if (x > 0 and y > 0) or z < 0:
        print("(x>0 and y>0) or z<0: TRUE")
    else:
        print("(x>0 and y>0) or z<0: FALSE")
    end
    
    if x > 0 and (y > 20 or z > 10):
        print("x>0 and (y>20 or z>10): TRUE")
    else:
        print("x>0 and (y>20 or z>10): FALSE")
    end
    
    # Chained comparisons (if supported)
    if x < y and y < z:
        print("x < y < z: TRUE")
    else:
        print("x < y < z: FALSE")
    end
end

def test_nested_loops():
    print("=== NESTED LOOPS ===")
    
    print("Multiplication table 3x3:")
    for i in range(1, 4):
        for j in range(1, 4):
            result = i * j
            print(i, "*", j, "=", result)
        end
    end
end

def test_early_return():
    print("=== EARLY RETURN ===")
    result = find_first_even(7)
    print("First even >= 7:", result)
    
    result = find_first_even(10)
    print("First even >= 10:", result)
end

def find_first_even(start):
    i = start
    while i < start + 10:
        if i % 2 == 0:
            return i
        end
        i += 1
    end
    return -1
end

def main():
    print("=" * 50)
    print("AIMacro Control Flow Test Suite")
    print("=" * 50)
    
    test_for_range()
    test_elif_chain()
    test_nested_elif()
    test_break()
    test_continue()
    test_boolean_and()
    test_boolean_or()
    test_boolean_not()
    test_complex_conditions()
    test_nested_loops()
    test_early_return()
    
    print("=" * 50)
    print("All control flow tests complete!")
    print("=" * 50)
end