# test_isinstance.aim
# Test isinstance() and type() in AIMacro after TArrays migration

def main():
    print("=== ISINSTANCE TESTS ===")
    
    # Test list detection
    arr = [1, 2, 3]
    print("arr = [1, 2, 3]")
    print("isinstance(arr, list):", isinstance(arr, list))  # 1
    print("isinstance(arr, str):", isinstance(arr, str))    # 0
    print("isinstance(arr, int):", isinstance(arr, int))    # 0
    
    # Test string detection  
    s = "hello"
    print("")
    print("s = 'hello'")
    print("isinstance(s, str):", isinstance(s, str))        # 1
    print("isinstance(s, list):", isinstance(s, list))      # 0
    print("isinstance(s, int):", isinstance(s, int))        # 0
    
    # Test int detection
    n = 42
    print("")
    print("n = 42")
    print("isinstance(n, int):", isinstance(n, int))        # 1
    print("isinstance(n, str):", isinstance(n, str))        # 0
    print("isinstance(n, list):", isinstance(n, list))      # 0
    
    # Test None detection
    nothing = None
    print("")
    print("nothing = None")
    print("isinstance(nothing, None):", isinstance(nothing, None))  # 1
    
    # Test type()
    print("")
    print("=== TYPE() TESTS ===")
    print("type(arr) =", type(arr))      # 3 (LIST)
    print("type(s) =", type(s))          # 2 (STR)  
    print("type(n) =", type(n))          # 1 (INT)
    print("type(nothing) =", type(nothing))  # 6 (NONE)
    
    # Practical usage
    print("")
    print("=== PRACTICAL USAGE ===")
    
    def describe(val):
        if isinstance(val, list):
            print("It's a list with", len(val), "items")
        elif isinstance(val, str):
            print("It's a string:", val)
        elif isinstance(val, int):
            print("It's a number:", val)
        else:
            print("Unknown type")
        end
    end
    
    describe([10, 20, 30])
    describe("world")
    describe(999)
    
    print("")
    print("=== ALL TESTS COMPLETE ===")
end